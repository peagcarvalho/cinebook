<ui:composition template="/WEB-INF/template/bootstrap_template.xhtml" 
				xmlns="http://www.w3.org/1999/xhtml" 
				xmlns:f="http://xmlns.jcp.org/jsf/core" 
				xmlns:h="http://xmlns.jcp.org/jsf/html"
				xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
				xmlns:jsf="http://xmlns.jcp.org/jsf">

<ui:param name="title" value="Filmes cadastrados - Cinebook" />

<ui:define name="conteudo">

	<f:metadata>
		<f:viewAction action="#{filmeBean.listarTodosFilmes()}"></f:viewAction>
	</f:metadata>

	<div class="mt-3 mr-3 text-center">
		<h1 class="pb-4">FILMES CADASTRADOS</h1>
		
		<div style="margin-left:32%">
			<h:dataTable id="filmes" value="#{filmeBean.filmes}" var="filme">
				<h:column>
					<h:graphicImage value="#{filme.capa}" width="100" height="140" alt="capa_filme"/> 
				</h:column>
				<h:column>
					<f:facet name="header">Informações:</f:facet>
					
					<h:outputLabel style="font-weight: bold; margin-right: 8px" value="Título:" />
					<h:outputLabel value="#{filme.titulo}" />
					<br/>
					<h:outputLabel style="font-weight: bold; margin-right: 8px" value="Ano:" />
					<h:outputLabel value="#{filme.anoLancamento}" >
						<f:convertDateTime pattern="yyyy" locale="pt-BR" timeZone="America/Brasilia"/>
					</h:outputLabel>
					<br/>
					<h:outputLabel style="font-weight: bold; margin-right: 8px" value="Classificação:" />
					<h:outputLabel value="#{filme.classificacao}" />
				</h:column>
				<h:column>
					<h:link class="btn btn-lg btn-danger btn-block mb-2" id="linkEditar" value="Editar" outcome="editarFilme">
						<f:param name="id" value="#{filme.id}"></f:param>
					</h:link>
					
					<h:form>
						<h:commandButton class="btn btn-lg btn-danger btn-block" id="botaoExcluir" action="#{filmeBean.excluir(filme)}" value="Excluir" >
						</h:commandButton>
					</h:form>
				</h:column>
			
			</h:dataTable>
		</div>
	</div>

</ui:define>
</ui:composition>