<ui:composition template="/WEB-INF/template/bootstrap_template.xhtml" 
				xmlns="http://www.w3.org/1999/xhtml" 
				xmlns:f="http://xmlns.jcp.org/jsf/core" 
				xmlns:h="http://xmlns.jcp.org/jsf/html"
				xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
				xmlns:jsf="http://xmlns.jcp.org/jsf">

<ui:param name="title" value="Minhas reservas - Cinebook" />

<ui:define name="conteudo">

	<f:metadata>
		<f:viewAction action="#{reservaIngressosBean.buscarReservasDoCliente()}"></f:viewAction>
	</f:metadata>

	<div class="mt-3 mr-3 text-center">
		<h1 class="pb-4">MINHAS RESERVAS</h1>
	
		<div style="margin-left:29%">
			<h:dataTable id="reservasTable" value="#{reservaIngressosBean.reservas}" var="reserva">
				<h:column>
					<h:graphicImage value="#{reserva.sessao.filme.capa}" width="100" height="140" alt="capa_filme"/> 
				</h:column>
				<h:column>
					<h:outputLabel style="font-weight:bold; font-size: 16px" value="#{reserva.sessao.filme.titulo}" />
					<br/>
					
					<h:outputLabel value="#{reserva.quantIngressos} ingresso(s)" />
					<br/>
					
					<h:outputLabel value="Valor Total: #{reserva.valorTotal}" />
					<br/>
				</h:column>
				<h:column>
					<h:outputLabel style="font-weight:bold" value="Data de Compra: " />
					<br/>
					<h:outputLabel value="#{reserva.dataEmissao}" >
						<f:convertDateTime type="date" pattern="dd/MM/yyyy" locale="pt-BR"/>
					</h:outputLabel>
				</h:column>
				<h:column>
					<h:link id="linkVerDetalhes" value="Ver detalhes" outcome="detalhesReserva">
						<f:param name="id" value="#{reserva.id}"></f:param>
					</h:link>
				</h:column>
			</h:dataTable>
		</div>
	</div>

</ui:define>
</ui:composition>