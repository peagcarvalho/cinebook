<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
				xmlns:f="http://xmlns.jcp.org/jsf/core" 
				xmlns:h="http://xmlns.jcp.org/jsf/html"
				xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
				xmlns:jsf="http://xmlns.jcp.org/jsf"
                xmlns:c="http://java.sun.com/jsp/jstl/core">

	
	<h:messages id="msg"/>
	<h:panelGrid columns="3">
		<h:outputLabel value="Nome:" />
		<h:inputText id="nome" value="#{usuarioBean.usuario.nome}" required="true">
			<f:validateLength minimum="6" maximum="255"/>
		</h:inputText>
		<h:message for="nome"/>
		
		<h:outputLabel value="Data de Nascimento:"/>
		<h:inputText id="data_nasc" value="#{usuarioBean.usuario.dataNascimento}" required="true">
			<f:convertDateTime type="date" pattern="dd/MM/yyyy" locale="pt-BR"/>
		</h:inputText>
		<h:message for="data_nasc"/>
		
		<h:outputLabel value="E-mail:"/>
		<h:inputText id="email" value="#{usuarioBean.usuario.email}" required="true">
			<f:validator validatorId="emailValidator"></f:validator>
		</h:inputText>
		<h:message for="email"/>
		
		<h:outputLabel value="Senha:"/>
		<h:inputSecret id="senha" value="#{usuarioBean.usuario.senha}" required="true">
			<f:validateLength minimum="6" maximum="20"/>
		</h:inputSecret>
		<h:message for="senha"/>
		
	</h:panelGrid>
	
	<fieldset>
		<legend>Papel do Funcion√°rio</legend>
		
		<h:outputLabel value="Papel:" />
		<h:selectOneMenu id="papelMenu" value="#{usuarioBean.papel}">
			<f:selectItem itemLabel="Operador" itemValue="OPERADOR"/>
			<f:selectItem itemLabel="Gerente" itemValue="GERENTE"/>
		</h:selectOneMenu>
	
	</fieldset>
	
	<c:if test="#{request.userPrincipal.papel == 'ADMINISTRADOR'}">
		<br/>
		<h:outputLabel value="Selecione o cinema: " />
		
		<h:selectOneMenu value="#{usuarioBean.cinemaId}" id="cinemaMenu">
			<f:selectItems value="#{usuarioBean.cinemas}" var="cinema"
				itemLabel="#{cinema.nome}" itemValue="#{cinema.id}">
			</f:selectItems>
		</h:selectOneMenu>
		<br/>
	</c:if>
	
</ui:composition>